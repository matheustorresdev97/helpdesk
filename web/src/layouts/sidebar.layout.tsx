import { NavLink } from "react-router";
import LogoIconSvg from "../assets/img/Logo_IconLight.svg";
import { useAuth } from "../hooks/useAuth";
import { getInitials } from "../utils/get-name-initials";
import { translateRole } from "../utils/translate-role";

export function SidebarLayout() {
  const { session, remove } = useAuth();

  return (
    <>
      <aside className="flex flex-col">
        <header>
          <div className="flex gap-3 px-5 py-7 border-b-1 border-gray-200">
            <img src={LogoIconSvg} alt="logo" className="w-[44px] h-[44px] " />
            <div className="mb-6">
              <h1 className="text-gray-600 font-lato text-xl text-bold">
                HelpDesk
              </h1>
              <p className="text-blue-light font-lato uppercase font-bold text-xs">
                {translateRole(session?.user.role)}
              </p>
            </div>
          </div>
        </header>
        <nav className="flex flex-col items-center justify-center mt-6 gap-1 ">
          {/* TICKETS */}
          <NavLink
            to="/"
            className={({ isActive }) =>
              `flex items-center gap-[12px] min-w-[156px] h-[44px] text-gray-400 cursor-pointer
            hover:bg-blue-dark hover:rounded-sm hover:text-gray-600
              ${isActive ? "bg-blue-dark text-gray-600 rounded-sm" : ""}`
            }
          >
            <svg
              className="w-5 h-5 fill-current ml-2"
              viewBox="0 0 32 32"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M9.33333 3.99992C9.33333 2.52716 10.5272 1.33325 12 1.33325H20C21.4728 1.33325 22.6667 2.52716 22.6667 3.99992H24C25.0609 3.99992 26.0783 4.42135 26.8284 5.17149C27.5786 5.92164 28 6.93905 28 7.99992V26.6666C28 27.7275 27.5786 28.7449 26.8284 29.495C26.0783 30.2452 25.0609 30.6666 24 30.6666H8C6.93913 30.6666 5.92172 30.2452 5.17157 29.495C4.42143 28.7449 4 27.7275 4 26.6666V7.99992C4 6.93905 4.42143 5.92164 5.17157 5.17149C5.92172 4.42135 6.93913 3.99992 8 3.99992H9.33333ZM9.33333 6.66659H8C7.64638 6.66659 7.30724 6.80706 7.05719 7.05711C6.80714 7.30716 6.66667 7.6463 6.66667 7.99992V26.6666C6.66667 27.0202 6.80714 27.3593 7.05719 27.6094C7.30724 27.8594 7.64638 27.9999 8 27.9999H24C24.3536 27.9999 24.6928 27.8594 24.9428 27.6094C25.1929 27.3593 25.3333 27.0202 25.3333 26.6666V7.99992C25.3333 7.6463 25.1929 7.30716 24.9428 7.05711C24.6928 6.80706 24.3536 6.66659 24 6.66659H22.6667C22.6667 8.13934 21.4728 9.33325 20 9.33325H12C10.5272 9.33325 9.33333 8.13934 9.33333 6.66659ZM20 6.66659H12V3.99992H20V6.66659ZM9.33333 14.6666C9.33333 13.9302 9.93029 13.3333 10.6667 13.3333H10.68C11.4164 13.3333 12.0133 13.9302 12.0133 14.6666C12.0133 15.403 11.4164 15.9999 10.68 15.9999H10.6667C9.93029 15.9999 9.33333 15.403 9.33333 14.6666ZM14.6667 14.6666C14.6667 13.9302 15.2636 13.3333 16 13.3333H21.3333C22.0697 13.3333 22.6667 13.9302 22.6667 14.6666C22.6667 15.403 22.0697 15.9999 21.3333 15.9999H16C15.2636 15.9999 14.6667 15.403 14.6667 14.6666ZM9.33333 21.3333C9.33333 20.5969 9.93029 19.9999 10.6667 19.9999H10.68C11.4164 19.9999 12.0133 20.5969 12.0133 21.3333C12.0133 22.0696 11.4164 22.6666 10.68 22.6666H10.6667C9.93029 22.6666 9.33333 22.0696 9.33333 21.3333ZM14.6667 21.3333C14.6667 20.5969 15.2636 19.9999 16 19.9999H21.3333C22.0697 19.9999 22.6667 20.5969 22.6667 21.3333C22.6667 22.0696 22.0697 22.6666 21.3333 22.6666H16C15.2636 22.6666 14.6667 22.0696 14.6667 21.3333Z"
                fill="currentColor"
              />
            </svg>
            <span className="text-sm font-lato">
              {session?.user.role === "ADMIN" ? "Chamados" : "Meus Chamados"}
            </span>
          </NavLink>

          {/* ADD TICKET */}
          {session?.user.role === "CLIENT" && (
            <NavLink
              to={"/tickets"}
              className={({ isActive }) =>
                `flex items-center gap-[12px] min-w-[156px] h-[44px] text-gray-400 cursor-pointer
              hover:bg-blue-dark hover:rounded-sm hover:text-gray-600
                ${isActive ? "bg-blue-dark text-gray-600 rounded-sm" : ""}`
              }
            >
              <svg
                className="w-5 h-5 fill-current ml-2"
                viewBox="0 0 32 32"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M16 5.33325C16.7364 5.33325 17.3334 5.93021 17.3334 6.66659V14.6666H25.3334C26.0698 14.6666 26.6667 15.2635 26.6667 15.9999C26.6667 16.7363 26.0698 17.3333 25.3334 17.3333H17.3334V25.3333C17.3334 26.0696 16.7364 26.6666 16 26.6666C15.2637 26.6666 14.6667 26.0696 14.6667 25.3333V17.3333H6.66671C5.93033 17.3333 5.33337 16.7363 5.33337 15.9999C5.33337 15.2635 5.93033 14.6666 6.66671 14.6666H14.6667V6.66659C14.6667 5.93021 15.2637 5.33325 16 5.33325Z"
                  fill="currentColor"
                />
              </svg>
              <span className="text-sm font-lato">Criar chamado</span>
            </NavLink>
          )}

          {/* TECHNICIANS */}
          {session?.user.role === "ADMIN" && (
            <NavLink
              to="/technicians"
              className={({ isActive }) =>
                `flex items-center gap-[12px] min-w-[156px] h-[44px] text-gray-400 cursor-pointer
              hover:bg-blue-dark hover:rounded-sm hover:text-gray-600
                ${isActive ? "bg-blue-dark text-gray-600 rounded-sm" : ""}`
              }
            >
              <svg
                className="w-5 h-5 fill-current ml-2"
                viewBox="0 0 32 32"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M12 5.33341C9.79084 5.33341 7.99998 7.12428 7.99998 9.33341C7.99998 11.5426 9.79084 13.3334 12 13.3334C14.2091 13.3334 16 11.5426 16 9.33341C16 7.12428 14.2091 5.33341 12 5.33341ZM5.33331 9.33341C5.33331 5.65152 8.31808 2.66675 12 2.66675C15.6819 2.66675 18.6666 5.65152 18.6666 9.33341C18.6666 13.0153 15.6819 16.0001 12 16.0001C8.31808 16.0001 5.33331 13.0153 5.33331 9.33341ZM20.0416 3.8427C20.2243 3.12933 20.9507 2.6991 21.664 2.88175C23.0981 3.24892 24.3691 4.08292 25.2768 5.25227C26.1844 6.42161 26.6771 7.8598 26.6771 9.34008C26.6771 10.8204 26.1844 12.2585 25.2768 13.4279C24.3691 14.5972 23.0981 15.4312 21.664 15.7984C20.9507 15.9811 20.2243 15.5508 20.0416 14.8375C19.859 14.1241 20.2892 13.3977 21.0026 13.2151C21.863 12.9948 22.6256 12.4944 23.1702 11.7928C23.7148 11.0912 24.0104 10.2283 24.0104 9.34008C24.0104 8.45191 23.7148 7.589 23.1702 6.88739C22.6256 6.18578 21.863 5.68538 21.0026 5.46508C20.2892 5.28243 19.859 4.55606 20.0416 3.8427ZM3.28593 20.6194C4.53618 19.3691 6.23187 18.6667 7.99998 18.6667H16C17.7681 18.6667 19.4638 19.3691 20.714 20.6194C21.9643 21.8696 22.6666 23.5653 22.6666 25.3334V28.0001C22.6666 28.7365 22.0697 29.3334 21.3333 29.3334C20.5969 29.3334 20 28.7365 20 28.0001V25.3334C20 24.2725 19.5786 23.2551 18.8284 22.505C18.0783 21.7548 17.0608 21.3334 16 21.3334H7.99998C6.93911 21.3334 5.9217 21.7548 5.17155 22.505C4.42141 23.2551 3.99998 24.2725 3.99998 25.3334V28.0001C3.99998 28.7365 3.40303 29.3334 2.66665 29.3334C1.93027 29.3334 1.33331 28.7365 1.33331 28.0001V25.3334C1.33331 23.5653 2.03569 21.8696 3.28593 20.6194ZM24.0423 19.8401C24.2264 19.1271 24.9536 18.6983 25.6666 18.8824C27.0969 19.2517 28.3639 20.0855 29.2689 21.2529C30.1739 22.4204 30.6655 23.8553 30.6666 25.3324V28.0001C30.6666 28.7365 30.0697 29.3334 29.3333 29.3334C28.5969 29.3334 28 28.7365 28 28.0001V25.3344C27.9993 24.4481 27.7043 23.5872 27.1613 22.8867C26.6184 22.1863 25.8581 21.686 25 21.4644C24.287 21.2803 23.8582 20.5531 24.0423 19.8401Z"
                  fill="currentColor"
                />
              </svg>
              <span className="text-sm font-lato">TÃ©cnicos</span>
            </NavLink>
          )}

          {/* CLIENTS */}
          {session?.user.role === "ADMIN" && (
            <NavLink
              to="/clients"
              className={({ isActive }) =>
                `flex items-center gap-[12px] min-w-[156px] h-[44px] text-gray-400 cursor-pointer
              hover:bg-blue-dark hover:rounded-sm hover:text-gray-600
                ${isActive ? "bg-blue-dark text-gray-600 rounded-sm" : ""}`
              }
            >
              <svg
                className="w-5 h-5 fill-current ml-2"
                viewBox="0 0 32 32"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M28 19.675C24.454 21.5631 20.5036 22.5925 16.4688 22.6666L16 22.6711C11.8028 22.6711 7.68329 21.6362 4.00004 19.675V23.9999C4.00004 24.7363 4.59699 25.3333 5.33337 25.3333H26.6667C27.4031 25.3333 28 24.7363 28 23.9999V19.675ZM16.0131 14.6666L16.1498 14.6737C16.8221 14.7421 17.3464 15.3096 17.3464 15.9999C17.3464 16.6902 16.8221 17.2578 16.1498 17.3261L16.0131 17.3333H16C15.2637 17.3333 14.6667 16.7363 14.6667 15.9999C14.6667 15.2635 15.2637 14.6666 16 14.6666H16.0131ZM28 10.6666C28 9.9302 27.4031 9.33325 26.6667 9.33325H5.33337C4.59699 9.33325 4.00004 9.93021 4.00004 10.6666V16.6015C7.60362 18.8232 11.7573 20.0045 16 20.0045L16.42 20.0006C20.5165 19.9254 24.5154 18.7499 28 16.6015V10.6666ZM20 5.33325C20 4.97963 19.8595 4.64059 19.6094 4.39054C19.3594 4.14049 19.0203 3.99992 18.6667 3.99992H13.3334C12.9798 3.99992 12.6407 4.14049 12.3907 4.39054C12.1406 4.64059 12 4.97963 12 5.33325V6.66658H20V5.33325ZM22.6667 6.66658H26.6667C28.8758 6.66658 30.6667 8.45745 30.6667 10.6666V23.9999C30.6667 26.2091 28.8758 27.9999 26.6667 27.9999H5.33337C3.12423 27.9999 1.33337 26.2091 1.33337 23.9999V10.6666C1.33337 8.45745 3.12424 6.66658 5.33337 6.66658H9.33337V5.33325C9.33337 4.27239 9.7551 3.25527 10.5052 2.50513C11.2554 1.75498 12.2725 1.33325 13.3334 1.33325H18.6667C19.7276 1.33325 20.7447 1.75498 21.4948 2.50513C22.245 3.25527 22.6667 4.27239 22.6667 5.33325V6.66658Z"
                  fill="currentColor"
                />
              </svg>
              <span className=" text-sm font-lato">Clientes</span>
            </NavLink>
          )}

          {/* SERVICES */}
          {session?.user.role === "ADMIN" && (
            <NavLink
              to="/services"
              className={({ isActive }) =>
                `flex items-center gap-[12px] min-w-[156px] h-[44px] text-gray-400 cursor-pointer
              hover:bg-blue-dark hover:rounded-sm hover:text-gray-600
                ${isActive ? "bg-blue-dark text-gray-600 rounded-sm" : ""}`
              }
            >
              <svg
                className="w-5 h-5 fill-current ml-2"
                viewBox="0 0 32 32"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M22.0771 4.0372C21.4331 3.96444 20.7784 3.98552 20.1335 4.10302C18.8002 4.34594 17.5727 4.9894 16.6144 5.94766C15.6562 6.90592 15.0127 8.13346 14.7698 9.4667C14.5269 10.7999 14.6961 12.1755 15.2548 13.4102C15.4836 13.9158 15.3752 14.5103 14.9828 14.9027L5.76949 24.116C5.4891 24.3964 5.33158 24.7767 5.33158 25.1732C5.33158 25.5697 5.4891 25.95 5.76949 26.2304C6.04987 26.5108 6.43015 26.6683 6.82668 26.6683C7.2232 26.6683 7.60348 26.5108 7.88387 26.2304L17.0972 17.0171C17.4896 16.6247 18.0841 16.5163 18.5897 16.7451C19.8244 17.3039 21.2 17.473 22.5332 17.2301C23.8664 16.9872 25.094 16.3437 26.0522 15.3855C27.0105 14.4272 27.654 13.1997 27.8969 11.8664C28.0144 11.2216 28.0355 10.5668 27.9627 9.92282L24.5428 13.3427L24.5333 13.3521C24.0349 13.8407 23.3647 14.1144 22.6667 14.1144C21.9687 14.1144 21.2985 13.8407 20.8 13.3521L20.7905 13.3427L18.6572 11.2094L18.6478 11.1999C18.1592 10.7014 17.8855 10.0312 17.8855 9.33323C17.8855 8.63522 18.1592 7.96503 18.6478 7.46656L18.6572 7.45708L22.0771 4.0372ZM19.6555 1.47954C21.522 1.13946 23.4479 1.37629 25.1764 2.15848C25.5751 2.33893 25.86 2.70361 25.9384 3.13422C26.0169 3.56484 25.879 4.00653 25.5695 4.31603L20.5523 9.33323L22.6667 11.4476L27.6839 6.43042C27.9934 6.12092 28.4351 5.98303 28.8657 6.06149C29.2963 6.13995 29.661 6.42476 29.8414 6.82353C30.6236 8.55204 30.8604 10.4779 30.5204 12.3444C30.1803 14.2109 29.2794 15.9295 27.9379 17.2711C26.5963 18.6126 24.8777 19.5135 23.0112 19.8536C21.4546 20.1372 19.8567 20.0196 18.3665 19.519L9.76949 28.116C8.98901 28.8965 7.93045 29.335 6.82668 29.335C5.72291 29.335 4.66435 28.8965 3.88387 28.116C3.10339 27.3356 2.66492 26.277 2.66492 25.1732C2.66492 24.0695 3.10339 23.0109 3.88387 22.2304L12.4809 13.6334C11.9803 12.1432 11.8627 10.5453 12.1463 8.9887C12.4864 7.12217 13.3873 5.40361 14.7288 4.06205C16.0704 2.72048 17.789 1.81963 19.6555 1.47954Z"
                  fill="currentColor"
                />
              </svg>
              <span className="text-sm font-lato">ServiÃ§os</span>
            </NavLink>
          )}
        </nav>
        <footer className="border-t-1 border-gray-200 flex gap-3 mt-auto p-5">
          <div
            className="bg-blue-dark w-[32px] h-[32px] text-gray-600  
            rounded-2xl flex items-center justify-center"
          >
            {getInitials(session?.user.name)}
          </div>
          <div>
            <h1 className="text-gray-600 font-lato text-sm">
              {session?.user.name}
            </h1>
            <p className="text-gray-400 font-lato text-xs">
              {session?.user.email}
            </p>
          </div>
        </footer>
      </aside>
    </>
  );
}
